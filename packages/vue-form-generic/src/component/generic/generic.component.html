<form class="bt-form-generic" action="" method="post" @submit.prevent="submitWithEnter && submit()">
    <slot name="loading" v-if="loading"></slot>
    <slot name="persisting" v-if="persisting"></slot>
    <slot name="load-error" v-if="loadError" :vm="vm" :error="errorsMap.load"></slot>
    <slot name="persist-error" v-if="persistError" :vm="vm" :error="errorsMap.persist"></slot>
    <slot name="persist-success" v-if="persistSuccess" :vm="vm"></slot>

    <!-- Main slot, that's where the form should be defined -->
    <slot v-if="visible" :vm="vm" :form="form" :model="modelEntity" :control="getOrCreateControl" :submit="submit" :errors="errorsMap"></slot>

    <!-- This slot is only here to offer a way to organize the HTML markup. -->
    <!-- This way the end-user can regroup all validators in it so the HTML is easier to read. -->
    <!-- But validators can be put anywhere in the form, they don't have to be in here. -->
    <slot name="validation"></slot>
    <input type="submit" style="display: none" v-if="submitWithEnter" />
</form>
