/*!
 * Banquette Validation v0.0.0 (CommonJS)
 * (c) 2022-2022 Julien Pinto
 * Released under Apache License, Version 2.0
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@banquette/utils-type/_cjs/prod/ensure-string"),t=require("@banquette/utils-type/_cjs/prod/is-array"),u=require("@banquette/utils-type/_cjs/prod/is-number"),a=require("@banquette/utils-type/_cjs/prod/is-numeric"),r=require("@banquette/utils-type/_cjs/prod/is-object"),s=require("@banquette/utils-type/_cjs/prod/is-string"),i=require("../constant.js"),n=require("../create-validator.js"),o=require("../utils.js");exports.Max=function Max(l,c){void 0===c&&(c={});var v=o.assignOptionsDefaults(c,"auto","max"),g=s.isString(c)?"auto":c.treatAs||"auto";return n.createValidator({validate:function(i){var n=!0,o="Must be lesser or equal to %count%.";return s.isString(i.value)&&"auto"===g||"string"===g?(n=("string"===g?e.ensureString(i.value):i.value).length<=l,o="Must be at most %count% character".concat(l>1?"s":""," long.")):a.isNumeric(i.value)&&"auto"===g||"number"===g?n=(u.isNumber(i.value)?i.value:parseFloat(i.value))<=l:r.isObject(i.value)&&(n=(t.isArray(i.value)?i.value.length:Object.keys(i.value).length)<=l,o="Must contain at most %count% item".concat(l>1?"s":"",".")),n||i.result.addViolation(v.type,"auto"===v.message?o:v.message,{count:l}),i.result}},[i.SYNC_TAG].concat(v.tags),v.groups)};
