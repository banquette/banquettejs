/*!
 * Banquette VueTypescript v0.0.0 (CommonJS)
 * (c) 2022-2022 Julien Pinto
 * Released under Apache License, Version 2.0
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@banquette/event/_cjs/prod/event-dispatcher"),t=require("@banquette/exception/_cjs/prod/usage.exception"),r=require("@banquette/utils-object/_cjs/prod/get-object-keys"),n=require("@banquette/utils-string/_cjs/prod/format/trim"),u=require("@banquette/utils-type/_cjs/prod/ensure-array"),s=require("@banquette/utils-type/_cjs/prod/is-array"),h=require("@banquette/utils-type/_cjs/prod/is-object"),i=require("@banquette/utils-type/_cjs/prod/is-undefined"),m=require("./constant.js"),T=require("./vue-theme.js"),a=function(){function VueThemes(){}return VueThemes.SetCurrent=function(e){if(e===m.ThemeWildcard&&(e=null),e!==VueThemes.CurrentThemeName){if(null!==VueThemes.CurrentTheme){var t=VueThemes.CurrentTheme;VueThemes.CurrentTheme=null,t.free()}e&&(VueThemes.CurrentTheme=VueThemes.Get(e),VueThemes.CurrentTheme.use()),VueThemes.CurrentThemeName=e}},VueThemes.GetCurrent=function(){return VueThemes.CurrentTheme},VueThemes.Get=function(e){return i.isUndefined(VueThemes.Themes[m.ThemeWildcard])&&(VueThemes.Themes[m.ThemeWildcard]=new T.VueTheme(m.ThemeWildcard,VueThemes.EventDispatcher),VueThemes.Themes[m.ThemeWildcard].use()),i.isUndefined(VueThemes.Themes[e])&&(VueThemes.Themes[e]=new T.VueTheme(e,VueThemes.EventDispatcher)),VueThemes.Themes[e]},VueThemes.Has=function(e){return e===m.ThemeWildcard||!i.isUndefined(VueThemes.Themes[e])},VueThemes.OnCreated=function(e){return VueThemes.EventDispatcher.subscribe(m.ThemesEvents.ThemeCreated,e)},VueThemes.OnChanged=function(e){return VueThemes.EventDispatcher.subscribe(m.ThemesEvents.ThemeChanged,e)},VueThemes.Define=function(e,t){for(var h,i=s.isArray(t)||VueThemes.IsVariantDefinitionInterface(t)?((h={})[m.ThemeWildcard]=u.ensureArray(t),h):t,T=0,a=Object.keys(i);T<a.length;T++)for(var c=a[T],V=0,o=c.split(",").map((function(e){return n.trim(e)}));V<o.length;V++)for(var l=o[V],d=VueThemes.Get(l),f=0,p=i[c];f<p.length;f++)for(var v=p[f],b=d.getVariant(v.match,e),q=0,C=r.getObjectKeys(v);q<C.length;q++){var y=C[q];"match"!==y&&b[y](v[y])}},VueThemes.Remove=function(e){if(e===m.ThemeWildcard)throw new t.UsageException("You cannot remove the wildcard theme. But you can clear it by calling `clear()` on it if you want.");i.isUndefined(VueThemes.Themes[e])&&delete VueThemes.Themes[e]},VueThemes.IsVariantDefinitionInterface=function(e){return h.isObject(e)&&"match"in e&&("apply"in e||"props"in e||"cssVars"in e||"cssSelectors"in e||"cssCode"in e)},VueThemes.Themes={},VueThemes.CurrentThemeName=null,VueThemes.CurrentTheme=null,VueThemes.EventDispatcher=new e.EventDispatcher,VueThemes}();exports.VueThemes=a;
