/*!
 * Banquette VueTypescript v0.0.0 (CommonJS)
 * (c) 2022-2022 Julien Pinto
 * Released under Apache License, Version 2.0
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("@banquette/utils-string/_cjs/prod/format/trim"),t=require("@banquette/utils-type/_cjs/prod/ensure-array"),e=require("@banquette/utils-type/_cjs/prod/is-string"),i=require("@banquette/utils-type/_cjs/prod/is-undefined");exports.normalizeVariantSelector=function normalizeVariantSelector(n){for(var a={identifier:"",candidates:[]},s=0,p=n=t.ensureArray(n);s<p.length;s++){var o=p[s];a.identifier+=""!==a.identifier?"|":"",e.isString(o)&&(o={variant:o});var u={variants:[],props:null,attrs:null,parents:[]};if(i.isUndefined(o.variant)||(u.variants=o.variant.split(" ").map((function(t){return r.trim(t)})).filter((function(r){return r.length>0})).sort(),u.variants.length>0&&(a.identifier+="#_v:s:"+u.variants.join(" "))),!i.isUndefined(o.props)){var f=Object.keys(o.props).sort();null===u.props&&(u.props={});for(var l=0,d=f;l<d.length;l++){var v=d[l],m=r.trim(String(o.props[v]));"variant"===v&&(m=m.split(" ").map((function(t){return r.trim(t)})).sort().join(" ")),u.props[v]=o.props[v],a.identifier+="#"+v+":"+String(typeof o.props[v])[0]+":"+m}}if(!i.isUndefined(o.attrs)){f=Object.keys(o.attrs).sort();null===u.attrs&&(u.attrs={});for(var c=0,g=f;c<g.length;c++){v=g[c],m=r.trim(String(o.attrs[v]));u.attrs[v]=o.attrs[v],a.identifier+="#_a:"+v+":"+String(typeof o.attrs[v])+":"+m}}if(!i.isUndefined(o.parent))for(var y=0,S=t.ensureArray(o.parent);y<S.length;y++){var h=S[y];e.isString(h)&&(h={name:h});var q=normalizeVariantSelector(h),b=q.candidates[0];b.name=h.name,u.parents.push(b),a.identifier+="#_p:"+b.name+":"+q.identifier}a.candidates.push(u)}return a};
