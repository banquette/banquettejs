/*!
 * Banquette VueTypescript v0.0.0 (CommonJS)
 * (c) 2022-2022 Julien Pinto
 * Released under Apache License, Version 2.0
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@banquette/utils-array/_cjs/prod/array-intersect"),r=require("@banquette/utils-type/_cjs/prod/is-function"),e=require("../../utils/converters.js"),n=require("../../utils/get-or-create-component-metadata.js"),a=require("../../utils/guards.js"),i=require("../constant.js"),o=require("./split-variant-string.js");function matchVariantSelector(s,u,c,l,f,p){if(u.length>0&&t.arrayIntersect(u,c).length!==u.length)return!1;if(null!==l)for(var v=0,h=Object.keys(l);v<h.length;v++){var m=l[b=h[v]];if(r.isFunction(m)){if(!m(p[b]))return!1}else if(l[b]!==p[b])return!1}if(null!==f&&p.$el)for(var g=p.$el,d=0,y=Object.keys(f);d<y.length;d++){m=f[b=y[d]];var b,q=g.getAttribute(b);if(r.isFunction(m)){if(!m(q))return!1}else if(f[b]!==q)return!1}if(s.parents.length>0){for(var j=0,V=s.parents;j<V.length;j++)for(var C=V[j],O=p.$resolvedParent;O;){var S=e.maybeResolveTsInst(O);if(S.constructor&&S.constructor.prototype&&a.isDecoratedComponentConstructor(S.constructor)){var $=n.getOrCreateComponentMetadata(S.constructor.prototype);if(C.name===$.component.name){var k=C.variants.filter((function(t){return t!==i.VariantWildcard}));if(matchVariantSelector(C,k,null!==$.themeable?o.splitVariantString(S[$.themeable.prop]||""):[],C.props,C.attrs,S))return!0}}O=O.$parent}return!1}return!0}exports.matchVariant=function matchVariant(t,r,e){for(var n=0,a=t.selector.candidates;n<a.length;n++){var o=a[n],s=o.variants.filter((function(t){return t!==i.VariantWildcard}));if(matchVariantSelector(o,s,r,o.props,o.attrs,e))return!0}return!1};
