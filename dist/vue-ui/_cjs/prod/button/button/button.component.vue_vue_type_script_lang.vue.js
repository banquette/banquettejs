/*!
 * Banquette VueUi v0.0.0 (CommonJS)
 * (c) 2022-2022 Julien Pinto
 * Released under Apache License, Version 2.0
 */
"use strict";var t=require("../../_virtual/_tslib.js"),e=require("@banquette/utils-dom/_cjs/prod/parse-css-duration"),o=require("@banquette/utils-misc/_cjs/prod/proxy"),n=require("@banquette/vue-typescript/_cjs/prod/decorator/component.decorator"),r=require("@banquette/vue-typescript/_cjs/prod/decorator/computed.decorator"),a=require("@banquette/vue-typescript/_cjs/prod/decorator/expose.decorator"),i=require("@banquette/vue-typescript/_cjs/prod/decorator/lifecycle.decorator"),p=require("@banquette/vue-typescript/_cjs/prod/decorator/prop.decorator"),d=require("@banquette/vue-typescript/_cjs/prod/decorator/ref.decorator"),u=require("@banquette/vue-typescript/_cjs/prod/decorator/theme-var.decorator"),s=require("@banquette/vue-typescript/_cjs/prod/decorator/themeable.decorator"),l=require("@banquette/vue-typescript/_cjs/prod/theme/bind-theme.directive"),c=require("@banquette/vue-typescript/_cjs/prod/vue"),_=require("../../misc/click-outside.directive.js");require("../../progress/progress-circular/progress-circular.component.vue.js");var m=require("./theme-configuration.js"),g=require("../../progress/progress-circular/progress-circular.component.vue_vue_type_script_lang.vue.js"),y=function(c){function ButtonComponent(){var t=null!==c&&c.apply(this,arguments)||this;return t.active=!1,t.toggledAttr=!1,t.keydownListener=null,t}return t.__extends(ButtonComponent,c),Object.defineProperty(ButtonComponent.prototype,"tagName",{get:function(){return null!==this.href?"a":"button"},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonComponent.prototype,"hasToggleSlot",{get:function(){return c.prototype.hasSlot.call(this,"toggle")},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonComponent.prototype,"isToggleSlotVisible",{get:function(){return null!==this.toggledProp?this.toggledProp:this.toggledAttr},enumerable:!1,configurable:!0}),Object.defineProperty(ButtonComponent.prototype,"isWorkingTextSlotVisible",{get:function(){return!!this.workingText||this.hasSlot("working-text")},enumerable:!1,configurable:!0}),ButtonComponent.prototype.onClick=function(t){this.disabled||this.$emit("click",t)},ButtonComponent.prototype.toggle=function(t){this.$refs.root.contains(t.target)&&!this.disabled&&(this.hasSlot("toggle")?this.toggledAttr=!this.toggledAttr:this.toggledAttr=!1)},ButtonComponent.prototype.hideToggle=function(){this.toggledAttr=!1},ButtonComponent.prototype.onFocus=function(){null!==this.keydownListener||this.disabled||(this.keydownListener=o.proxy(this.onKeyDown,this),this.$el.addEventListener("keydown",this.keydownListener))},ButtonComponent.prototype.onBlur=function(){null!==this.keydownListener&&(this.$el.removeEventListener("keydown",this.keydownListener),this.keydownListener=null)},ButtonComponent.prototype.dispose=function(){this.onBlur()},ButtonComponent.prototype.onKeyDown=function(t){var e=this;"Enter"!==t.key||this.active||this.disabled||(this.active=!0,this.hasToggleSlot&&this.toggle(t),setTimeout((function(){e.active=!1}),2*this.clickDuration))},t.__decorate([p.Prop({type:String,default:null}),t.__metadata("design:type",Object)],ButtonComponent.prototype,"href",void 0),t.__decorate([p.Prop({type:String,default:null}),t.__metadata("design:type",Object)],ButtonComponent.prototype,"target",void 0),t.__decorate([p.Prop({type:Boolean,default:!1}),t.__metadata("design:type",Object)],ButtonComponent.prototype,"disabled",void 0),t.__decorate([p.Prop({type:Boolean,default:!1}),t.__metadata("design:type",Boolean)],ButtonComponent.prototype,"working",void 0),t.__decorate([p.Prop({type:String,default:null}),t.__metadata("design:type",Object)],ButtonComponent.prototype,"workingText",void 0),t.__decorate([p.Prop({type:Number,default:null}),t.__metadata("design:type",Object)],ButtonComponent.prototype,"workingProgress",void 0),t.__decorate([p.Prop({name:"toggled",type:Boolean,default:null}),t.__metadata("design:type",Object)],ButtonComponent.prototype,"toggledProp",void 0),t.__decorate([p.Prop({type:[String,Boolean],default:!1}),t.__metadata("design:type",Object)],ButtonComponent.prototype,"toggleTransition",void 0),t.__decorate([u.ThemeVar({name:"animation.clickDuration",defaultValue:"30ms",transform:function(t){return e.parseCssDuration(t)}}),t.__metadata("design:type",Number)],ButtonComponent.prototype,"clickDuration",void 0),t.__decorate([a.Expose(),t.__metadata("design:type",Boolean)],ButtonComponent.prototype,"active",void 0),t.__decorate([r.Computed(),t.__metadata("design:type",String),t.__metadata("design:paramtypes",[])],ButtonComponent.prototype,"tagName",null),t.__decorate([r.Computed(),t.__metadata("design:type",Boolean),t.__metadata("design:paramtypes",[])],ButtonComponent.prototype,"hasToggleSlot",null),t.__decorate([r.Computed(),t.__metadata("design:type",Boolean),t.__metadata("design:paramtypes",[])],ButtonComponent.prototype,"isToggleSlotVisible",null),t.__decorate([r.Computed(),t.__metadata("design:type",Boolean),t.__metadata("design:paramtypes",[])],ButtonComponent.prototype,"isWorkingTextSlotVisible",null),t.__decorate([d.Ref(),t.__metadata("design:type",Boolean)],ButtonComponent.prototype,"toggledAttr",void 0),t.__decorate([d.Ref(),t.__metadata("design:type",Object)],ButtonComponent.prototype,"keydownListener",void 0),t.__decorate([a.Expose(),t.__metadata("design:type",Function),t.__metadata("design:paramtypes",[UIEvent]),t.__metadata("design:returntype",void 0)],ButtonComponent.prototype,"onClick",null),t.__decorate([a.Expose(),t.__metadata("design:type",Function),t.__metadata("design:paramtypes",[UIEvent]),t.__metadata("design:returntype",void 0)],ButtonComponent.prototype,"toggle",null),t.__decorate([a.Expose(),t.__metadata("design:type",Function),t.__metadata("design:paramtypes",[]),t.__metadata("design:returntype",void 0)],ButtonComponent.prototype,"hideToggle",null),t.__decorate([a.Expose(),t.__metadata("design:type",Function),t.__metadata("design:paramtypes",[]),t.__metadata("design:returntype",void 0)],ButtonComponent.prototype,"onFocus",null),t.__decorate([a.Expose(),t.__metadata("design:type",Function),t.__metadata("design:paramtypes",[]),t.__metadata("design:returntype",void 0)],ButtonComponent.prototype,"onBlur",null),t.__decorate([i.Lifecycle("beforeUnmount"),t.__metadata("design:type",Function),t.__metadata("design:paramtypes",[]),t.__metadata("design:returntype",void 0)],ButtonComponent.prototype,"dispose",null),ButtonComponent=t.__decorate([s.Themeable(m.ThemeConfiguration),n.Component({name:"bt-button",components:[g],directives:[_.ClickOutsideDirective,l.BindThemeDirective],emits:["click"]})],ButtonComponent)}(c.Vue);module.exports=y;
