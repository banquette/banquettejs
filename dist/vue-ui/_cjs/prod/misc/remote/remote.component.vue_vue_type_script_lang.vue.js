/*!
 * Banquette VueUi v0.0.0 (CommonJS)
 * (c) 2022-2022 Julien Pinto
 * Released under Apache License, Version 2.0
 */
"use strict";var e=require("../../_virtual/_tslib.js"),t=require("@banquette/http/_cjs/prod/constants"),o=require("@banquette/ui/_cjs/prod/misc/remote/remote.module"),r=require("@banquette/utils-array/_cjs/prod/ensure-in-enum"),n=require("@banquette/vue-typescript/_cjs/prod/decorator/component.decorator"),a=require("@banquette/vue-typescript/_cjs/prod/decorator/computed.decorator"),p=require("@banquette/vue-typescript/_cjs/prod/decorator/expose.decorator"),s=require("@banquette/vue-typescript/_cjs/prod/decorator/prop.decorator"),i=require("@banquette/vue-typescript/_cjs/prod/decorator/watch.decorator"),d=require("@banquette/vue-typescript/_cjs/prod/vue");require("../../progress/progress-circular/progress-circular.component.vue.js");var u=require("../../progress/progress-circular/progress-circular.component.vue_vue_type_script_lang.vue.js"),m=function(d){function RemoteComponent(){var e=null!==d&&d.apply(this,arguments)||this;return e.response=null,e.bag={},e.remote=new o.RemoteModule,e}return e.__extends(RemoteComponent,d),Object.defineProperty(RemoteComponent.prototype,"waiting",{get:function(){return null===this.response},enumerable:!1,configurable:!0}),Object.defineProperty(RemoteComponent.prototype,"fetching",{get:function(){return null!==this.response&&this.response.status===t.HttpResponseStatus.Pending},enumerable:!1,configurable:!0}),Object.defineProperty(RemoteComponent.prototype,"error",{get:function(){return null!==this.response&&this.response.status===t.HttpResponseStatus.Error},enumerable:!1,configurable:!0}),Object.defineProperty(RemoteComponent.prototype,"ready",{get:function(){return null!==this.response&&this.response.status===t.HttpResponseStatus.Success},enumerable:!1,configurable:!0}),RemoteComponent.prototype.update=function(){var e=this;this.remote.isApplicable?(this.response=this.remote.send(),this.response.promise.finally((function(){e.$forceUpdateComputed()}))):this.response=null},RemoteComponent.prototype.syncConfigurationProps=function(){this.remote.updateConfiguration({url:this.url,endpoint:this.endpoint,method:this.method,urlParams:this.urlParams,headers:this.headers,model:this.model}),this.update()},e.__decorate([s.Prop({type:String,default:null}),e.__metadata("design:type",Object)],RemoteComponent.prototype,"url",void 0),e.__decorate([s.Prop({type:String,default:null}),e.__metadata("design:type",Object)],RemoteComponent.prototype,"endpoint",void 0),e.__decorate([s.Prop({type:String,default:null}),e.__metadata("design:type",Object)],RemoteComponent.prototype,"model",void 0),e.__decorate([s.Prop({type:String,default:t.HttpMethod.GET,transform:function(e){return r.ensureInEnum(e,t.HttpMethod,t.HttpMethod.GET)}}),e.__metadata("design:type",String)],RemoteComponent.prototype,"method",void 0),e.__decorate([s.Prop({type:Object,default:{}}),e.__metadata("design:type",Object)],RemoteComponent.prototype,"urlParams",void 0),e.__decorate([s.Prop({type:Object,default:{}}),e.__metadata("design:type",Object)],RemoteComponent.prototype,"headers",void 0),e.__decorate([p.Expose(),e.__metadata("design:type",Object)],RemoteComponent.prototype,"response",void 0),e.__decorate([p.Expose(),e.__metadata("design:type",Object)],RemoteComponent.prototype,"bag",void 0),e.__decorate([a.Computed(),e.__metadata("design:type",Boolean),e.__metadata("design:paramtypes",[])],RemoteComponent.prototype,"waiting",null),e.__decorate([a.Computed(),e.__metadata("design:type",Boolean),e.__metadata("design:paramtypes",[])],RemoteComponent.prototype,"fetching",null),e.__decorate([a.Computed(),e.__metadata("design:type",Boolean),e.__metadata("design:paramtypes",[])],RemoteComponent.prototype,"error",null),e.__decorate([a.Computed(),e.__metadata("design:type",Boolean),e.__metadata("design:paramtypes",[])],RemoteComponent.prototype,"ready",null),e.__decorate([p.Expose(),e.__metadata("design:type",Function),e.__metadata("design:paramtypes",[]),e.__metadata("design:returntype",void 0)],RemoteComponent.prototype,"update",null),e.__decorate([i.Watch(["url","endpoint","method","model","urlParams","headers"],{immediate:i.ImmediateStrategy.NextTick,deep:!0}),e.__metadata("design:type",Function),e.__metadata("design:paramtypes",[]),e.__metadata("design:returntype",void 0)],RemoteComponent.prototype,"syncConfigurationProps",null),RemoteComponent=e.__decorate([n.Component({name:"bt-remote",components:[u]})],RemoteComponent)}(d.Vue);module.exports=m;
