/*!
 * Banquette VueUi v0.0.0 (CommonJS)
 * (c) 2022-2022 Julien Pinto
 * Released under Apache License, Version 2.0
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../_virtual/_tslib.js"),t=require("@banquette/utils-misc/_cjs/prod/is-server"),r=require("@banquette/vue-typescript/_cjs/prod/decorator/composable.decorator"),o=require("@banquette/vue-typescript/_cjs/prod/decorator/expose.decorator"),s=require("@banquette/vue-typescript/_cjs/prod/decorator/prop.decorator"),n=require("@banquette/vue-typescript/_cjs/prod/decorator/watch.decorator"),a=function(a){function AbstractProgressComponent(){var e=null!==a&&a.apply(this,arguments)||this;return e.animatedProgressText=0,e.progressTimeout=null,e}return e.__extends(AbstractProgressComponent,a),AbstractProgressComponent.prototype.isIndeterminate=function(){return null===this.progress},AbstractProgressComponent.prototype.progressPercent=function(){return null===this.progress?null:100*(this.progress-this.progressMin)/(this.progressMax-this.progressMin)},AbstractProgressComponent.prototype.onProgressChange=function(e){var r=this;if(null===e||t.isServer())this.animatedProgressText=null;else{null!==this.progressTimeout&&window.cancelAnimationFrame(this.progressTimeout);var o=0,s=this.animatedProgressText||0,n=null,next=function(){r.progressTimeout=window.requestAnimationFrame((function(e){var t=r.progressPercent();null!==t&&(n||(n=e),o=e-n,r.animatedProgressText=Math.round(o*(1/300)*(t-s)+s),o<300?next():r.animatedProgressText=Math.round(t))}))};next()}},e.__decorate([s.Prop({type:[Number,String],default:null,transform:function(e){return null===e?null:(e=parseFloat(e),Math.max(this.progressMin,Math.min(this.progressMax,e)))}}),e.__metadata("design:type",Object)],AbstractProgressComponent.prototype,"progress",void 0),e.__decorate([s.Prop({type:[Number,String],default:0,transform:function(e){return parseFloat(e)}}),e.__metadata("design:type",Number)],AbstractProgressComponent.prototype,"progressMin",void 0),e.__decorate([s.Prop({type:[Number,String],default:100,transform:function(e){return parseFloat(e)}}),e.__metadata("design:type",Number)],AbstractProgressComponent.prototype,"progressMax",void 0),e.__decorate([s.Prop({type:Boolean,default:!0}),e.__metadata("design:type",Boolean)],AbstractProgressComponent.prototype,"showProgressText",void 0),e.__decorate([o.Expose(),e.__metadata("design:type",Object)],AbstractProgressComponent.prototype,"animatedProgressText",void 0),e.__decorate([o.Expose(),e.__metadata("design:type",Function),e.__metadata("design:paramtypes",[]),e.__metadata("design:returntype",Boolean)],AbstractProgressComponent.prototype,"isIndeterminate",null),e.__decorate([o.Expose(),e.__metadata("design:type",Function),e.__metadata("design:paramtypes",[]),e.__metadata("design:returntype",Object)],AbstractProgressComponent.prototype,"progressPercent",null),e.__decorate([n.Watch("progress"),e.__metadata("design:type",Function),e.__metadata("design:paramtypes",[Number]),e.__metadata("design:returntype",void 0)],AbstractProgressComponent.prototype,"onProgressChange",null),AbstractProgressComponent=e.__decorate([r.Composable()],AbstractProgressComponent)}(require("@banquette/vue-typescript/_cjs/prod/vue").Vue);exports.AbstractProgressComponent=a;
