/*!
 * Banquette DomModules v0.0.0 (CommonJS)
 * (c) 2022-2022 Julien Pinto
 * Released under Apache License, Version 2.0
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@banquette/exception/_cjs/prod/usage.exception"),o=require("@banquette/utils-misc/_cjs/prod/are-equal"),e=function(){function AbstractDomModule(){this.ready=!1,this.onReadyPromise=null,this.onReadyPromiseResolve=null,this.options=this.getDefaultOptions()}return AbstractDomModule.prototype.getElement=function(){return this.element},AbstractDomModule.prototype.setElement=function(t){this.element=t},AbstractDomModule.prototype.initialize=function(t){var o=this;this.setOptions(t||{}),Promise.all([this.doInit()]).then((function(){null!==o.onReadyPromiseResolve&&(o.onReadyPromiseResolve(),o.onReadyPromiseResolve=null),o.ready=!0,o.afterInit()}))},AbstractDomModule.prototype.onReady=function(){var t=this;return null===this.onReadyPromise&&(this.onReadyPromise=new Promise((function(o){t.onReadyPromiseResolve=o})),this.isReady()&&null!==this.onReadyPromiseResolve&&this.onReadyPromiseResolve()),this.onReadyPromise},AbstractDomModule.prototype.isReady=function(){return this.ready},AbstractDomModule.prototype.getOption=function(t,o){return void 0===o&&(o=null),this.hasOption(t)?this.options[t]:o},AbstractDomModule.prototype.setOption=function(t,e){var n=this.hasOption(t),i=n?this.options[t]:null;this.options[t]=e,this.isReady()&&n&&!o.areEqual(i,e)&&this.onOptionChange(t,i,e)},AbstractDomModule.prototype.setOptions=function(t,o){for(var e in void 0===o&&(o=!1),o&&(this.options={}),t)t.hasOwnProperty(e)&&this.setOption(e,t[e])},AbstractDomModule.prototype.hasOption=function(t){return void 0!==this.options[t]},AbstractDomModule.prototype.getDefaultOptionName=function(){return null},AbstractDomModule.prototype.doInit=function(){if(!this.element)throw new t.UsageException("You must set the root DOM element of a DOM plugin by calling setElement().")},AbstractDomModule.prototype.bind=function(){},AbstractDomModule.prototype.unbind=function(){},AbstractDomModule.prototype.afterInit=function(){this.bind()},AbstractDomModule.prototype.getOptions=function(){return this.options},AbstractDomModule.prototype.onOptionChange=function(t,o,e){},AbstractDomModule.prototype.getDefaultOptions=function(){return{}},AbstractDomModule}();exports.AbstractDomModule=e;
