/*!
 * Banquette Form v0.0.0 (CommonJS)
 * (c) 2022-2022 Julien Pinto
 * Released under Apache License, Version 2.0
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@banquette/utils-misc/_cjs/prod/proxy"),o=require("@banquette/utils-type/_cjs/prod/is-function"),t=require("@banquette/utils-type/_cjs/prod/is-type"),n=function(){function FormComponentsCollection(e){void 0===e&&(e=[]),this.collection=e}return Object.defineProperty(FormComponentsCollection.prototype,"valid",{get:function(){return this.validated&&this.combineFlags("valid")},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"invalid",{get:function(){return this.validated&&!this.valid},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"validated",{get:function(){return!this.notValidated},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"notValidated",{get:function(){return this.combineFlags("validated")},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"validating",{get:function(){return!this.notValidating},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"notValidating",{get:function(){return this.combineFlags("notValidating")},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"busy",{get:function(){return!this.notBusy},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"notBusy",{get:function(){return this.combineFlags("notBusy")},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"disabled",{get:function(){return!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"enabled",{get:function(){return this.combineFlags("enabled")},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"pristine",{get:function(){return this.combineFlags("pristine")},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"touched",{get:function(){return!this.untouched},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"untouched",{get:function(){return this.combineFlags("untouched")},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"changed",{get:function(){return!this.unchanged},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"unchanged",{get:function(){return this.combineFlags("unchanged")},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"focused",{get:function(){return!this.unfocused},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"unfocused",{get:function(){return this.combineFlags("unfocused")},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"virtual",{get:function(){return!this.concrete},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"concrete",{get:function(){return this.combineFlags("concrete")},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"paths",{get:function(){return this.collection.reduce((function(e,o){return e.push(o.path),e}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"length",{get:function(){return this.collection.length},enumerable:!1,configurable:!0}),Object.defineProperty(FormComponentsCollection.prototype,"value",{get:function(){for(var e=[],o=0,t=this.collection;o<t.length;o++){var n=t[o];e.push(n.value)}return e},enumerable:!1,configurable:!0}),FormComponentsCollection.prototype.get=function(e){return this.collection.length>e?this.collection[e]:null},FormComponentsCollection.prototype.append=function(e){this.collection.push(e)},FormComponentsCollection.prototype.prepend=function(e){this.collection.unshift(e)},FormComponentsCollection.prototype.insert=function(e,o){(e=Math.min(e,this.collection.length))<this.collection.length?this.collection.splice(e,0,o):this.collection.push(o)},FormComponentsCollection.prototype.remove=function(e){var o=this.collection.indexOf(e);o>-1&&this.collection.splice(o,1)},FormComponentsCollection.prototype.detach=function(){this.forEach((function(e){null!==e.parent&&e.parent.remove(e)}))},FormComponentsCollection.prototype.forEach=function(e){for(var o=0,t=this.collection;o<t.length;o++){if(!1===e(t[o]))break}},FormComponentsCollection.prototype.concat=function(o){o.forEach(e.proxy(this.append,this))},FormComponentsCollection.prototype.combineFlags=function(e){for(var o=0,t=this.collection;o<t.length;o++){if(!t[o][e])return!1}return!0},FormComponentsCollection.prototype.callForEach=function(e){for(var n=arguments,r=[],i=1;i<arguments.length;i++)r[i-1]=n[i];for(var l=0,c=this.collection;l<c.length;l++){var p=c[l],u=p[e];t.isType(u,o.isFunction)&&u.apply(p,r)}},FormComponentsCollection.prototype.subscribeForEach=function(e,o){for(var t=[],n=0,r=this.collection;n<r.length;n++){var i=r[n],l=i[e];t.push(l.apply(i,[o]))}return function(){for(var e=0,o=t;e<o.length;e++){(0,o[e])()}t=[]}},FormComponentsCollection.prototype.disable=function(){return this.callForEach("disable"),this},FormComponentsCollection.prototype.enable=function(){return this.callForEach("enable"),this},FormComponentsCollection.prototype.markAsConcrete=function(){return this.callForEach("markAsConcrete"),this},FormComponentsCollection.prototype.markAsVirtual=function(){return this.callForEach("markAsVirtual"),this},FormComponentsCollection.prototype.setValue=function(e){return this.callForEach("setValue",e),this},FormComponentsCollection.prototype.setValidator=function(e){return this.callForEach("setValidator",e),this},FormComponentsCollection.prototype.setValidationStrategy=function(e){return this.callForEach("setValidationStrategy",e),this},FormComponentsCollection.prototype.validate=function(){return this.callForEach("validate"),this},FormComponentsCollection.prototype.onStateChanged=function(e){return this.subscribeForEach("onStateChanged",e)},FormComponentsCollection.prototype.onValueChanged=function(e){return this.subscribeForEach("onValueChanged",e)},FormComponentsCollection}();exports.FormComponentsCollection=n;
